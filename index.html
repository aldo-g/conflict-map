<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edinburgh Peace Institute's Global Conflict Map</title>
    <link rel="stylesheet" href="styles/conflict-map.css">
    <!-- Add Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Main map container (fullscreen) -->
        <main id="map-container" class="map-container">
            <!-- Map will be rendered here -->
            <div id="tooltip" class="tooltip hidden"></div>
            
            <!-- Logo overlay -->
            <div class="map-logo-overlay">
                <img src="/images/Logo.png" alt="Edinburgh Peace Institute Logo">
            </div>
            
            <!-- Filter button -->
            <div class="map-controls-overlay">
                <button id="sidebar-toggle" class="toggle-btn" aria-label="Toggle filters">
                    <i class="fas fa-filter"></i> Filters
                </button>
            </div>
            
            <!-- Data attribution -->
            <div class="map-attribution-overlay">
                <p>Data source: Armed Conflict Location & Event Data (ACLED)</p>
            </div>
            
            <!-- Legend overlay -->
            <div class="map-legend-overlay">
                <h3>Conflict Type</h3>
                <div class="legend-items">
                    <div class="legend-item">
                        <span class="legend-color civil-war"></span>
                        <span>Civil War</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color insurgency"></span>
                        <span>Insurgency</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color interstate"></span>
                        <span>Interstate</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color territorial"></span>
                        <span>Territorial</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color criminal"></span>
                        <span>Criminal Violence</span>
                    </div>
                </div>
            </div>
        </main>

        <!-- Sidebar Filter Panel -->
        <aside id="filter-sidebar" class="filter-sidebar">
            <div class="sidebar-header">
                <h3>Filter Conflicts</h3>
                <button id="close-sidebar" class="close-btn" aria-label="Close filters">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="filter-group">
                <div class="filter" id="type-filter">
                    <label>Conflict Type:</label>
                    <select id="conflict-type">
                        <option value="all">All Types</option>
                        <option value="civil war">Civil War</option>
                        <option value="insurgency">Insurgency</option>
                        <option value="interstate">Interstate</option>
                        <option value="territorial">Territorial</option>
                        <option value="criminal violence">Criminal Violence</option>
                    </select>
                </div>
                <div class="filter" id="intensity-filter">
                    <label>Intensity Level:</label>
                    <select id="conflict-intensity">
                        <option value="all">All Levels</option>
                        <option value="minor">Minor</option>
                        <option value="moderate">Moderate</option>
                        <option value="high">High</option>
                    </select>
                </div>
                <div class="filter" id="region-filter">
                    <label>Region:</label>
                    <select id="conflict-region">
                        <option value="all">All Regions</option>
                        <option value="Africa">Africa</option>
                        <option value="Middle East">Middle East</option>
                        <option value="Europe">Europe</option>
                        <option value="Asia">Asia</option>
                        <option value="North America">North America</option>
                        <option value="South America">South America</option>
                        <option value="Southeast Asia">Southeast Asia</option>
                        <option value="South Asia">South Asia</option>
                    </select>
                </div>
                <button id="reset-filters" class="reset-btn">Reset All Filters</button>
            </div>
        </aside>
    </div>

    <!-- Single module import for Vite -->
    <script type="module" src="/main.js"></script>
</body>
</html>